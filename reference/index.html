
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="BigFunctions are open-source BigQuery routines that give you SQL-superpowers. BigFunctions can show data-visualizations inside BigQuery console, compute advanced transforms such as sentiment score of a text, or send data to any of your favorite SAAS tool. BigFunctions is dbt's best friend.">
      
      
      
        <link rel="canonical" href="https://unytics.io/bigfunctions/reference/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../getting_started/">
      
      <link rel="icon" href="../assets/logo.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.11">
    
    
      
        <title>BigFunctions - BigFunctions</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<meta property="og:title" content="BigFunctions supercharge BigQuery" />
<meta property="twitter:card" content="summary" />
<meta property="twitter:title" content="BigFunctions supercharge BigQuery" />


<meta property="og:description" content="BigFunctions are open-source BigQuery routines that give you SQL-superpowers. BigFunctions can show data-visualizations inside BigQuery console, compute advanced transforms such as sentiment score of a text, or send data to any of your favorite SAAS tool. BigFunctions is dbt's best friend." />


<meta property="og:image" content="https://unytics.io/bigfunctions/assets/logo_and_name.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="2500" />
<meta property="og:image:height" content="541" />
<meta property="twitter:image" content="https://unytics.io/bigfunctions/assets/logo_and_name.png" />
<meta property="twitter:image:alt" content="Supercharge BigQuery with BigFunctions" />


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!-- Application header -->
<header class="md-header" data-md-component="header">

  <!-- Top-level navigation -->
  <nav class="md-header__inner md-grid" aria-label="">

    <!-- Link to home -->
    <a href="https://unytics.io/bigfunctions/" title="BigFunctions" class="md-header__button md-logo" aria-label="BigFunctions">
      
  <img src="../assets/logo.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <a class="md-ellipsis" href="https://unytics.io/bigfunctions/">
            BigFunctions
          </a>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              BigFunctions
            
          </span>
        </div>
      </div>
    </div>

    <!-- Site language selector -->
    

    <!-- Button to open search dialogue -->
    

    <!-- Repository containing source -->
    
      <div class="md-header__source">
        <a href="https://github.com/unytics/bigfunctions" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    unytics/bigfunctions
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      BigFunctions
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../getting_started/" class="md-tabs__link">
      Getting Started
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../contribute/" class="md-tabs__link">
      Contribute!
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="BigFunctions" class="md-nav__button md-logo" aria-label="BigFunctions" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    BigFunctions
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/unytics/bigfunctions" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    unytics/bigfunctions
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          BigFunctions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        BigFunctions
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    📄 Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore" class="md-nav__link">
    👀 Explore
  </a>
  
    <nav class="md-nav" aria-label="👀 Explore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explore_column" class="md-nav__link">
    explore_column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore_dataset" class="md-nav__link">
    explore_dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore_table" class="md-nav__link">
    explore_table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-transform-numeric" class="md-nav__link">
    1️⃣ Transform numeric
  </a>
  
    <nav class="md-nav" aria-label="1️⃣ Transform numeric">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format_percentage" class="md-nav__link">
    format_percentage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantize_into_bins" class="md-nav__link">
    quantize_into_bins
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantize_into_fixed_width_bins" class="md-nav__link">
    quantize_into_fixed_width_bins
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-string" class="md-nav__link">
    ✨ Transform string
  </a>
  
    <nav class="md-nav" aria-label="✨ Transform string">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is_email_valid" class="md-nav__link">
    is_email_valid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#levenshtein" class="md-nav__link">
    levenshtein
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_url" class="md-nav__link">
    parse_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_accents" class="md-nav__link">
    remove_accents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_extra_whitespaces" class="md-nav__link">
    remove_extra_whitespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_strings" class="md-nav__link">
    remove_strings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_words" class="md-nav__link">
    remove_words
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_string" class="md-nav__link">
    render_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace_special_characters" class="md-nav__link">
    replace_special_characters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sentiment_score" class="md-nav__link">
    sentiment_score
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-date" class="md-nav__link">
    📆 Transform date
  </a>
  
    <nav class="md-nav" aria-label="📆 Transform date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate_dates" class="md-nav__link">
    generate_dates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_public_holiday" class="md-nav__link">
    is_public_holiday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_date" class="md-nav__link">
    parse_date
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-json" class="md-nav__link">
    {...} Transform json
  </a>
  
    <nav class="md-nav" aria-label="{...} Transform json">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json_items" class="md-nav__link">
    json_items
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_keys" class="md-nav__link">
    json_keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_merge" class="md-nav__link">
    json_merge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_query" class="md-nav__link">
    json_query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_schema" class="md-nav__link">
    json_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_values" class="md-nav__link">
    json_values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-array" class="md-nav__link">
    [...] Transform array
  </a>
  
    <nav class="md-nav" aria-label="[...] Transform array">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#are_arrays_equal" class="md-nav__link">
    are_arrays_equal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinct_values" class="md-nav__link">
    distinct_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find_value" class="md-nav__link">
    find_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_value" class="md-nav__link">
    get_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#last_value" class="md-nav__link">
    last_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max_value" class="md-nav__link">
    max_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#median_value" class="md-nav__link">
    median_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min_value" class="md-nav__link">
    min_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_value" class="md-nav__link">
    remove_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort_values" class="md-nav__link">
    sort_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort_values_desc" class="md-nav__link">
    sort_values_desc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum_values" class="md-nav__link">
    sum_values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph" class="md-nav__link">
    🌐 Graph
  </a>
  
    <nav class="md-nav" aria-label="🌐 Graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connected_components" class="md-nav__link">
    connected_components
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notify" class="md-nav__link">
    💬 Notify
  </a>
  
    <nav class="md-nav" aria-label="💬 Notify">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notify_gmail" class="md-nav__link">
    notify_gmail
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#export" class="md-nav__link">
    🚀 Export
  </a>
  
    <nav class="md-nav" aria-label="🚀 Export">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export_to_gmail" class="md-nav__link">
    export_to_gmail
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils" class="md-nav__link">
    🔨 Utils
  </a>
  
    <nav class="md-nav" aria-label="🔨 Utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chart" class="md-nav__link">
    chart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump_to_excel" class="md-nav__link">
    dump_to_excel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    get
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_json_column_schema" class="md-nav__link">
    get_json_column_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_latest_partition_timestamp" class="md-nav__link">
    get_latest_partition_timestamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_columns" class="md-nav__link">
    get_table_columns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contribute/" class="md-nav__link">
        Contribute!
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    📄 Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore" class="md-nav__link">
    👀 Explore
  </a>
  
    <nav class="md-nav" aria-label="👀 Explore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explore_column" class="md-nav__link">
    explore_column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore_dataset" class="md-nav__link">
    explore_dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore_table" class="md-nav__link">
    explore_table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-transform-numeric" class="md-nav__link">
    1️⃣ Transform numeric
  </a>
  
    <nav class="md-nav" aria-label="1️⃣ Transform numeric">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format_percentage" class="md-nav__link">
    format_percentage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantize_into_bins" class="md-nav__link">
    quantize_into_bins
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantize_into_fixed_width_bins" class="md-nav__link">
    quantize_into_fixed_width_bins
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-string" class="md-nav__link">
    ✨ Transform string
  </a>
  
    <nav class="md-nav" aria-label="✨ Transform string">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is_email_valid" class="md-nav__link">
    is_email_valid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#levenshtein" class="md-nav__link">
    levenshtein
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_url" class="md-nav__link">
    parse_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_accents" class="md-nav__link">
    remove_accents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_extra_whitespaces" class="md-nav__link">
    remove_extra_whitespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_strings" class="md-nav__link">
    remove_strings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_words" class="md-nav__link">
    remove_words
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_string" class="md-nav__link">
    render_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace_special_characters" class="md-nav__link">
    replace_special_characters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sentiment_score" class="md-nav__link">
    sentiment_score
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-date" class="md-nav__link">
    📆 Transform date
  </a>
  
    <nav class="md-nav" aria-label="📆 Transform date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate_dates" class="md-nav__link">
    generate_dates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_public_holiday" class="md-nav__link">
    is_public_holiday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_date" class="md-nav__link">
    parse_date
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-json" class="md-nav__link">
    {...} Transform json
  </a>
  
    <nav class="md-nav" aria-label="{...} Transform json">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json_items" class="md-nav__link">
    json_items
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_keys" class="md-nav__link">
    json_keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_merge" class="md-nav__link">
    json_merge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_query" class="md-nav__link">
    json_query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_schema" class="md-nav__link">
    json_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_values" class="md-nav__link">
    json_values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-array" class="md-nav__link">
    [...] Transform array
  </a>
  
    <nav class="md-nav" aria-label="[...] Transform array">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#are_arrays_equal" class="md-nav__link">
    are_arrays_equal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinct_values" class="md-nav__link">
    distinct_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find_value" class="md-nav__link">
    find_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_value" class="md-nav__link">
    get_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#last_value" class="md-nav__link">
    last_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max_value" class="md-nav__link">
    max_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#median_value" class="md-nav__link">
    median_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min_value" class="md-nav__link">
    min_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_value" class="md-nav__link">
    remove_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort_values" class="md-nav__link">
    sort_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort_values_desc" class="md-nav__link">
    sort_values_desc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum_values" class="md-nav__link">
    sum_values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph" class="md-nav__link">
    🌐 Graph
  </a>
  
    <nav class="md-nav" aria-label="🌐 Graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connected_components" class="md-nav__link">
    connected_components
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notify" class="md-nav__link">
    💬 Notify
  </a>
  
    <nav class="md-nav" aria-label="💬 Notify">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notify_gmail" class="md-nav__link">
    notify_gmail
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#export" class="md-nav__link">
    🚀 Export
  </a>
  
    <nav class="md-nav" aria-label="🚀 Export">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export_to_gmail" class="md-nav__link">
    export_to_gmail
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils" class="md-nav__link">
    🔨 Utils
  </a>
  
    <nav class="md-nav" aria-label="🔨 Utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chart" class="md-nav__link">
    chart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump_to_excel" class="md-nav__link">
    dump_to_excel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    get
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_json_column_schema" class="md-nav__link">
    get_json_column_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_latest_partition_timestamp" class="md-nav__link">
    get_latest_partition_timestamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_columns" class="md-nav__link">
    get_table_columns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



  <h1>BigFunctions</h1>

<h2 id="overview">📄 Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2>
<p>BigFunctions are open-source BigQuery routines that give you <strong>SQL-superpowers</strong> in BigQuery 💪.</p>
<div class="admonition note">
<p><strong>👀 Explore</strong></p>
<ul>
<li>
<p><a href="#explore_column"><code>explore_column(fully_qualified_column)</code></a>: Show column statistics</p>
</li>
<li>
<p><a href="#explore_dataset"><code>explore_dataset(fully_qualified_dataset)</code></a>: Show infos about dataset tables</p>
</li>
<li>
<p><a href="#explore_table"><code>explore_table(fully_qualified_table)</code></a>: Show table infos and column statistics</p>
</li>
</ul>
<p><strong>1️⃣ Transform numeric</strong></p>
<ul>
<li>
<p><a href="#format_percentage"><code>format_percentage(first_number, second_number, nb_decimals)</code></a>: Return <code>first_number / second_number</code> as a formatted percentage</p>
</li>
<li>
<p><a href="#quantize_into_bins"><code>quantize_into_bins(value, bin_bounds)</code></a>: Get the <code>bin_range</code> in which belongs <code>value</code></p>
</li>
<li>
<p><a href="#quantize_into_fixed_width_bins"><code>quantize_into_fixed_width_bins(value, min_bound, max_bound, nb_bins)</code></a>: Get the <code>bin_range</code> in which belongs <code>value</code></p>
</li>
</ul>
<p><strong>✨ Transform string</strong></p>
<ul>
<li>
<p><a href="#is_email_valid"><code>is_email_valid(email)</code></a>: Return true if <code>email</code> is valid</p>
</li>
<li>
<p><a href="#levenshtein"><code>levenshtein(string1, string2)</code></a>: Compute levenshtein distance between <code>string1</code> and <code>string2</code></p>
</li>
<li>
<p><a href="#parse_url"><code>parse_url(url)</code></a>: Return <code>url</code> parts</p>
</li>
<li>
<p><a href="#remove_accents"><code>remove_accents(str)</code></a>: Remove accents</p>
</li>
<li>
<p><a href="#remove_extra_whitespaces"><code>remove_extra_whitespaces(str)</code></a>: Remove unwanted whitespaces</p>
</li>
<li>
<p><a href="#remove_strings"><code>remove_strings(string, strings_to_remove)</code></a>: Remove any string of <code>strings_to_remove</code> from <code>string</code></p>
</li>
<li>
<p><a href="#remove_words"><code>remove_words(string, words_to_remove)</code></a>: Remove any word of <code>words_to_remove</code> from <code>string</code></p>
</li>
<li>
<p><a href="#render_string"><code>render_string(template, context)</code></a>: Render template with context using nunjucks.js templating library</p>
</li>
<li>
<p><a href="#replace_special_characters"><code>replace_special_characters(string, replacement)</code></a>: Replace most common special characters in a <code>string</code> with <code>replacement</code></p>
</li>
<li>
<p><a href="#sentiment_score"><code>sentiment_score(content)</code></a>: Compute sentiment score of text</p>
</li>
</ul>
<p><strong>📆 Transform date</strong></p>
<ul>
<li>
<p><a href="#generate_dates"><code>generate_dates(start_date, end_date)</code></a>: Generate a table of dates</p>
</li>
<li>
<p><a href="#is_public_holiday"><code>is_public_holiday(date, country_code)</code></a>: Return true if <code>date</code> corresponds to a public holiday in <code>country_code</code></p>
</li>
<li>
<p><a href="#parse_date"><code>parse_date(date_string)</code></a>: Parse date with automatic format detection</p>
</li>
</ul>
<p><strong><span style="color: var(--md-primary-fg-color);">{...}</span> Transform json</strong></p>
<ul>
<li>
<p><a href="#json_items"><code>json_items(json_string)</code></a>: Extract <code>key_value_items</code> from <code>json_string</code></p>
</li>
<li>
<p><a href="#json_keys"><code>json_keys(json_string)</code></a>: Extract <code>keys</code> from <code>json_string</code></p>
</li>
<li>
<p><a href="#json_merge"><code>json_merge(json_string1, json_string2)</code></a>: Merge <code>json_string1</code> and <code>json_string2</code></p>
</li>
<li>
<p><a href="#json_query"><code>json_query(json_string, query)</code></a>: Extract data from <code>json_string</code> using advanced json querying</p>
</li>
<li>
<p><a href="#json_schema"><code>json_schema(json_string)</code></a>: Return the schema of a json string as <code>[{path, type}]</code></p>
</li>
<li>
<p><a href="#json_values"><code>json_values(json_string)</code></a>: Extract <code>values</code> from <code>json_string</code></p>
</li>
</ul>
<p><strong><span style="color: var(--md-primary-fg-color);">[...]</span> Transform array</strong></p>
<ul>
<li>
<p><a href="#are_arrays_equal"><code>are_arrays_equal(array1, array2)</code></a>: Return true if <code>array1</code> = <code>array2</code></p>
</li>
<li>
<p><a href="#distinct_values"><code>distinct_values(arr)</code></a>: Return distinct values</p>
</li>
<li>
<p><a href="#find_value"><code>find_value(arr, value)</code></a>: Return the first <code>offset</code> (zero-based index) of <code>value</code> in array <code>arr</code></p>
</li>
<li>
<p><a href="#get_value"><code>get_value(key_value_items, search_key)</code></a>: Return the first <code>value</code> with a key <code>search_key</code> from <code>key_value_items</code></p>
</li>
<li>
<p><a href="#last_value"><code>last_value(arr)</code></a>: Return last value of array</p>
</li>
<li>
<p><a href="#max_value"><code>max_value(arr)</code></a>: Return max value of array</p>
</li>
<li>
<p><a href="#median_value"><code>median_value(arr)</code></a>: Return median value of array</p>
</li>
<li>
<p><a href="#min_value"><code>min_value(arr)</code></a>: Return min value of array</p>
</li>
<li>
<p><a href="#remove_value"><code>remove_value(arr, value)</code></a>: Return an array with all values except <code>value</code>.</p>
</li>
<li>
<p><a href="#sort_values"><code>sort_values(arr)</code></a>: Return sorted array (ascending)</p>
</li>
<li>
<p><a href="#sort_values_desc"><code>sort_values_desc(arr)</code></a>: Return sorted array (descending)</p>
</li>
<li>
<p><a href="#sum_values"><code>sum_values(arr)</code></a>: Return the sum of array values</p>
</li>
</ul>
<p><strong>🌐 Graph</strong></p>
<ul>
<li><a href="#connected_components"><code>connected_components(fully_qualified_table)</code></a>: Compute the connected components of a non-directed graph.</li>
</ul>
<p><strong>💬 Notify</strong></p>
<ul>
<li><a href="#notify_gmail"><code>notify_gmail(recipients, subject, body, attachment_filename, attachment_content)</code></a>: Send email via gmail</li>
</ul>
<p><strong>🚀 Export</strong></p>
<ul>
<li><a href="#export_to_gmail"><code>export_to_gmail(table_or_view_or_query, recipients, email_subject, email_body)</code></a>: Send email (via gmail) with data attached as excel file</li>
</ul>
<p><strong>🔨 Utils</strong></p>
<ul>
<li>
<p><a href="#chart"><code>chart(data, chart_type, ylabel)</code></a>: Return html with a chartjs chart</p>
</li>
<li>
<p><a href="#dump_to_excel"><code>dump_to_excel(data)</code></a>: Dump data to excel file returned as base64</p>
</li>
<li>
<p><a href="#get"><code>get(url, headers)</code></a>: Request <code>url</code></p>
</li>
<li>
<p><a href="#get_json_column_schema"><code>get_json_column_schema(table_or_view_or_query, json_column)</code></a>: Return the schema of <code>json_column</code> of <code>table_or_view_or_query</code> as <code>[{path, type}]</code></p>
</li>
<li>
<p><a href="#get_latest_partition_timestamp"><code>get_latest_partition_timestamp(fully_qualified_table)</code></a>: Return the maximum of the partition column of <code>fully_qualified_table</code></p>
</li>
<li>
<p><a href="#get_table_columns"><code>get_table_columns(fully_qualified_table)</code></a>: Get the column information of the given table from <code>INFORMATION_SCHEMA.COLUMNS</code></p>
</li>
</ul>
<p><strong>🔴 Before using see --&gt; <a href="/bigfunctions/getting_started/">Getting Started</a></strong></p>
</div>
<div style="margin-top: 6rem;"></div>

<h2 id="explore">👀 Explore<a class="headerlink" href="#explore" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Explore data within BigQuery console </strong></p>
<p>Make computations on BigQuery and display the results as data-vizualizations directly in BigQuery console.</p>
</div>
<hr />
<h3 id="explore_column">explore_column<a class="headerlink" href="#explore_column" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/explore_column.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>explore_column(fully_qualified_column)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Show column statistics</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">US</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">explore_column</span><span class="p">(</span><span class="ss">&quot;bigquery-public-data.samples.natality.weight_pounds&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="n">html</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/explore_column.png"><img alt="screenshot" src="../assets/images/explore_column.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<h3 id="explore_dataset">explore_dataset<a class="headerlink" href="#explore_dataset" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/explore_dataset.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>explore_dataset(fully_qualified_dataset)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Show infos about dataset tables</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">US</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">explore_dataset</span><span class="p">(</span><span class="ss">&quot;bigquery-public-data.samples&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="n">html</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/explore_dataset.png"><img alt="screenshot" src="../assets/images/explore_dataset.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<h3 id="explore_table">explore_table<a class="headerlink" href="#explore_table" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/explore_table.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>explore_table(fully_qualified_table)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Show table infos and column statistics</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">US</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">explore_table</span><span class="p">(</span><span class="ss">&quot;bigquery-public-data.samples.natality&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="n">html</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/explore_column.png"><img alt="screenshot" src="../assets/images/explore_column.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="1-transform-numeric">1️⃣ Transform numeric<a class="headerlink" href="#1-transform-numeric" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Transform data creatively </strong></p>
</div>
<hr />
<h3 id="format_percentage">format_percentage<a class="headerlink" href="#format_percentage" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/thomas-ellyatt-84a51b218/" title="Author: Thomas Ellyatt" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/110492001?v=4" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/format_percentage.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>format_percentage(first_number, second_number, nb_decimals)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return <code>first_number / second_number</code> as a formatted percentage
in a user-friendly format. You can use this function
to handle a safe divide of the two numbers as well as your desired level of rounding.</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:4"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><input id="__tabbed_4_4" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">EU</label><label for="__tabbed_4_2">US</label><label for="__tabbed_4_3">europe-west1</label><label for="__tabbed_4_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">format_percentage</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">formatted_percentage</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">format_percentage</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">formatted_percentage</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">format_percentage</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">formatted_percentage</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">format_percentage</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">formatted_percentage</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------------+
| formatted_percentage |
+----------------------+
| 33.33 %              |
+----------------------+
</code>
</pre>

<hr />
<h3 id="quantize_into_bins">quantize_into_bins<a class="headerlink" href="#quantize_into_bins" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/quantize_into_bins.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>quantize_into_bins(value, bin_bounds)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get the <code>bin_range</code> in which belongs <code>value</code>
with bins defined by their <code>bin_bounds</code>.</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:4"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><input id="__tabbed_5_4" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">EU</label><label for="__tabbed_5_2">US</label><label for="__tabbed_5_3">europe-west1</label><label for="__tabbed_5_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| ]-∞, 0[   |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="6:4"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><input id="__tabbed_6_4" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">EU</label><label for="__tabbed_6_2">US</label><label for="__tabbed_6_3">europe-west1</label><label for="__tabbed_6_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| [1, 5[    |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="7:4"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><input id="__tabbed_7_4" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">EU</label><label for="__tabbed_7_2">US</label><label for="__tabbed_7_3">europe-west1</label><label for="__tabbed_7_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| [5, 10]   |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="8:4"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><input id="__tabbed_8_4" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">EU</label><label for="__tabbed_8_2">US</label><label for="__tabbed_8_3">europe-west1</label><label for="__tabbed_8_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| ]10, +∞[  |
+-----------+
</code>
</pre>

<hr />
<h3 id="quantize_into_fixed_width_bins">quantize_into_fixed_width_bins<a class="headerlink" href="#quantize_into_fixed_width_bins" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/quantize_into_fixed_width_bins.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>quantize_into_fixed_width_bins(value, min_bound, max_bound, nb_bins)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get the <code>bin_range</code> in which belongs <code>value</code>
with bins defined so that there are <code>nb_bins</code> bins of same width between <code>min_bound</code> and <code>max_bound</code> plus a bin <code>]-∞, min_bound[</code> and a bin <code>]max_bound, +∞[</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:4"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><input id="__tabbed_9_3" name="__tabbed_9" type="radio" /><input id="__tabbed_9_4" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">EU</label><label for="__tabbed_9_2">US</label><label for="__tabbed_9_3">europe-west1</label><label for="__tabbed_9_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| ]-∞, 0[   |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="10:4"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><input id="__tabbed_10_3" name="__tabbed_10" type="radio" /><input id="__tabbed_10_4" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">EU</label><label for="__tabbed_10_2">US</label><label for="__tabbed_10_3">europe-west1</label><label for="__tabbed_10_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| [0, 10[   |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="11:4"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><input id="__tabbed_11_3" name="__tabbed_11" type="radio" /><input id="__tabbed_11_4" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">EU</label><label for="__tabbed_11_2">US</label><label for="__tabbed_11_3">europe-west1</label><label for="__tabbed_11_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| [90, 100] |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="12:4"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><input id="__tabbed_12_3" name="__tabbed_12" type="radio" /><input id="__tabbed_12_4" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">EU</label><label for="__tabbed_12_2">US</label><label for="__tabbed_12_3">europe-west1</label><label for="__tabbed_12_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| ]100, +∞[ |
+-----------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="transform-string">✨ Transform string<a class="headerlink" href="#transform-string" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Transform data creatively </strong></p>
<p>Be amazed with your new SQL powers.</p>
</div>
<hr />
<h3 id="is_email_valid">is_email_valid<a class="headerlink" href="#is_email_valid" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/chris-j-goddard/" title="Credits: Chris Goddard" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4D03AQGC7iFJlo7zUA/profile-displayphoto-shrink_200_200/0/1603420752762?e=1675900800&v=beta&t=9UU_ofvohzGANcMoZ7O5YR_y8DUg4ayAylSA9sWOESM" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/is_email_valid.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>is_email_valid(email)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return true if <code>email</code> is valid
<em>(inspired from <a href="https://www.reddit.com/r/bigquery/comments/dshge0/comment/f6r7rpt/">this reddit answer</a>)</em></p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. with a valid email</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:4"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><input id="__tabbed_13_3" name="__tabbed_13" type="radio" /><input id="__tabbed_13_4" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">EU</label><label for="__tabbed_13_2">US</label><label for="__tabbed_13_3">europe-west1</label><label for="__tabbed_13_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@unytics.io&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@unytics.io&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@unytics.io&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@unytics.io&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| is_email_valid |
+----------------+
| true           |
+----------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. with incorrect format</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:4"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><input id="__tabbed_14_2" name="__tabbed_14" type="radio" /><input id="__tabbed_14_3" name="__tabbed_14" type="radio" /><input id="__tabbed_14_4" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">EU</label><label for="__tabbed_14_2">US</label><label for="__tabbed_14_3">europe-west1</label><label for="__tabbed_14_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul/marcombes@example.com&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul/marcombes@example.com&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul/marcombes@example.com&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul/marcombes@example.com&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| is_email_valid |
+----------------+
| false          |
+----------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. with a domain not registrable</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:4"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><input id="__tabbed_15_2" name="__tabbed_15" type="radio" /><input id="__tabbed_15_3" name="__tabbed_15" type="radio" /><input id="__tabbed_15_4" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">EU</label><label for="__tabbed_15_2">US</label><label for="__tabbed_15_3">europe-west1</label><label for="__tabbed_15_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@example.con&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@example.con&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@example.con&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@example.con&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| is_email_valid |
+----------------+
| false          |
+----------------+
</code>
</pre>

<hr />
<h3 id="levenshtein">levenshtein<a class="headerlink" href="#levenshtein" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/levenshtein.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>levenshtein(string1, string2)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Compute levenshtein distance between <code>string1</code> and <code>string2</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="16:4"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><input id="__tabbed_16_2" name="__tabbed_16" type="radio" /><input id="__tabbed_16_3" name="__tabbed_16" type="radio" /><input id="__tabbed_16_4" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">EU</label><label for="__tabbed_16_2">US</label><label for="__tabbed_16_3">europe-west1</label><label for="__tabbed_16_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">levenshtein</span><span class="p">(</span><span class="s1">&#39;bak&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;book&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distance</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">levenshtein</span><span class="p">(</span><span class="s1">&#39;bak&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;book&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distance</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">levenshtein</span><span class="p">(</span><span class="s1">&#39;bak&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;book&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distance</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">levenshtein</span><span class="p">(</span><span class="s1">&#39;bak&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;book&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distance</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------+
| distance |
+----------+
| 2        |
+----------+
</code>
</pre>

<hr />
<h3 id="parse_url">parse_url<a class="headerlink" href="#parse_url" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/taylorabrownlow/" title="Credits: Taylor Brownlow" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQFCRlj44wnbhA/profile-displayphoto-shrink_200_200/0/1579795128165?e=1672272000&v=beta&t=LxL7tn53S_dQU0jMAeT3lHiAP4anA8GSiYD71u63pMs" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/parse_url.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>parse_url(url)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return <code>url</code> parts
<em>(inspired from <a href="https://github.com/count/sql-snippets/blob/main/bigquery/regex-parse-url.md">sql-snippets repo</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="17:4"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><input id="__tabbed_17_2" name="__tabbed_17" type="radio" /><input id="__tabbed_17_3" name="__tabbed_17" type="radio" /><input id="__tabbed_17_4" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="__tabbed_17_1">EU</label><label for="__tabbed_17_2">US</label><label for="__tabbed_17_3">europe-west1</label><label for="__tabbed_17_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://www.yoursite.com/pricing/details?myparam1=123&amp;myparam2=abc#newsfeed&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">url_parts</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://www.yoursite.com/pricing/details?myparam1=123&amp;myparam2=abc#newsfeed&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">url_parts</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://www.yoursite.com/pricing/details?myparam1=123&amp;myparam2=abc#newsfeed&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">url_parts</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://www.yoursite.com/pricing/details?myparam1=123&amp;myparam2=abc#newsfeed&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">url_parts</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------------------------------------------------------------------------------------------------------------------------------------------+
| url_parts                                                                                                                                            |
+------------------------------------------------------------------------------------------------------------------------------------------------------+
| struct<'www.yoursite.com' as host, 'pricing/details' as path, 'myparam1=123&myparam2=abc#newsfeed' as query, 'newsfeed' as ref, 'https' as protocol> |
+------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="remove_accents">remove_accents<a class="headerlink" href="#remove_accents" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/remove_accents.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>remove_accents(str)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Remove accents</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="18:4"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><input id="__tabbed_18_2" name="__tabbed_18" type="radio" /><input id="__tabbed_18_3" name="__tabbed_18" type="radio" /><input id="__tabbed_18_4" name="__tabbed_18" type="radio" /><div class="tabbed-labels"><label for="__tabbed_18_1">EU</label><label for="__tabbed_18_2">US</label><label for="__tabbed_18_3">europe-west1</label><label for="__tabbed_18_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">remove_accents</span><span class="p">(</span><span class="s1">&#39;Voilà !&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">remove_accents</span><span class="p">(</span><span class="s1">&#39;Voilà !&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">remove_accents</span><span class="p">(</span><span class="s1">&#39;Voilà !&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">remove_accents</span><span class="p">(</span><span class="s1">&#39;Voilà !&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| cleaned_string |
+----------------+
| Voila !        |
+----------------+
</code>
</pre>

<hr />
<h3 id="remove_extra_whitespaces">remove_extra_whitespaces<a class="headerlink" href="#remove_extra_whitespaces" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/redata/" title="Author: re_data" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E0BAQFYSyHBVMp96w/company-logo_200_200/0/1625304367962?e=1674691200&v=beta&t=YlLm-FImlG2r3ziS8O1pP5FlIj7_IsxnaDvUVFw0__A" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/remove_extra_whitespaces.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>remove_extra_whitespaces(str)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Remove unwanted whitespaces
<em>(inspired from <a href="https://github.com/re-data/dbt-re-data/blob/main/macros/public/cleaning/clean_additional_whitespace.sql">re_data dbt repo</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="19:4"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio" /><input id="__tabbed_19_2" name="__tabbed_19" type="radio" /><input id="__tabbed_19_3" name="__tabbed_19" type="radio" /><input id="__tabbed_19_4" name="__tabbed_19" type="radio" /><div class="tabbed-labels"><label for="__tabbed_19_1">EU</label><label for="__tabbed_19_2">US</label><label for="__tabbed_19_3">europe-west1</label><label for="__tabbed_19_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">remove_extra_whitespaces</span><span class="p">(</span><span class="s1">&#39;Hi   Madison  and Mateusz!\n How are you doing?&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">remove_extra_whitespaces</span><span class="p">(</span><span class="s1">&#39;Hi   Madison  and Mateusz!\n How are you doing?&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">remove_extra_whitespaces</span><span class="p">(</span><span class="s1">&#39;Hi   Madison  and Mateusz!\n How are you doing?&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">remove_extra_whitespaces</span><span class="p">(</span><span class="s1">&#39;Hi   Madison  and Mateusz!\n How are you doing?&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------------------------------+
| cleaned_string                             |
+--------------------------------------------+
| Hi Madison and Mateusz! How are you doing? |
+--------------------------------------------+
</code>
</pre>

<hr />
<h3 id="remove_strings">remove_strings<a class="headerlink" href="#remove_strings" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/benjamin-tabet" title="Author: Benjamin Tabet" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4D03AQGWnyJdEmZeZw/profile-displayphoto-shrink_400_400/0/1667928305931?e=1673481600&v=beta&t=sxH1fFMPjj9ASbqfQ6TkIpWKk_PQ0hUAhOtuAs2zTu0" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/remove_strings.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>remove_strings(string, strings_to_remove)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Remove any string of <code>strings_to_remove</code> from <code>string</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="20:4"><input checked="checked" id="__tabbed_20_1" name="__tabbed_20" type="radio" /><input id="__tabbed_20_2" name="__tabbed_20" type="radio" /><input id="__tabbed_20_3" name="__tabbed_20" type="radio" /><input id="__tabbed_20_4" name="__tabbed_20" type="radio" /><div class="tabbed-labels"><label for="__tabbed_20_1">EU</label><label for="__tabbed_20_2">US</label><label for="__tabbed_20_3">europe-west1</label><label for="__tabbed_20_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">remove_strings</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">remove_strings</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">remove_strings</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">remove_strings</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| cleaned_string |
+----------------+
| I  dies        |
+----------------+
</code>
</pre>

<hr />
<h3 id="remove_words">remove_words<a class="headerlink" href="#remove_words" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/benjamin-tabet" title="Author: Benjamin Tabet" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4D03AQGWnyJdEmZeZw/profile-displayphoto-shrink_400_400/0/1667928305931?e=1673481600&v=beta&t=sxH1fFMPjj9ASbqfQ6TkIpWKk_PQ0hUAhOtuAs2zTu0" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/remove_words.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>remove_words(string, words_to_remove)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Remove any word of <code>words_to_remove</code> from <code>string</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="21:4"><input checked="checked" id="__tabbed_21_1" name="__tabbed_21" type="radio" /><input id="__tabbed_21_2" name="__tabbed_21" type="radio" /><input id="__tabbed_21_3" name="__tabbed_21" type="radio" /><input id="__tabbed_21_4" name="__tabbed_21" type="radio" /><div class="tabbed-labels"><label for="__tabbed_21_1">EU</label><label for="__tabbed_21_2">US</label><label for="__tabbed_21_3">europe-west1</label><label for="__tabbed_21_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">remove_words</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">remove_words</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">remove_words</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">remove_words</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| cleaned_string |
+----------------+
| I  candies     |
+----------------+
</code>
</pre>

<hr />
<h3 id="render_string">render_string<a class="headerlink" href="#render_string" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/render_string.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>render_string(template, context)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Render template with context using nunjucks.js templating library</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="22:4"><input checked="checked" id="__tabbed_22_1" name="__tabbed_22" type="radio" /><input id="__tabbed_22_2" name="__tabbed_22" type="radio" /><input id="__tabbed_22_3" name="__tabbed_22" type="radio" /><input id="__tabbed_22_4" name="__tabbed_22" type="radio" /><div class="tabbed-labels"><label for="__tabbed_22_1">EU</label><label for="__tabbed_22_2">US</label><label for="__tabbed_22_3">europe-west1</label><label for="__tabbed_22_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">render_string</span><span class="p">(</span><span class="s1">&#39;Hello {{ username }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;username&quot;: &quot;James&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rendered_content</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">render_string</span><span class="p">(</span><span class="s1">&#39;Hello {{ username }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;username&quot;: &quot;James&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rendered_content</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">render_string</span><span class="p">(</span><span class="s1">&#39;Hello {{ username }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;username&quot;: &quot;James&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rendered_content</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">render_string</span><span class="p">(</span><span class="s1">&#39;Hello {{ username }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;username&quot;: &quot;James&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rendered_content</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| rendered_content |
+------------------+
| Hello James      |
+------------------+
</code>
</pre>

<hr />
<h3 id="replace_special_characters">replace_special_characters<a class="headerlink" href="#replace_special_characters" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/68295200/" title="Author: Jason Tragakis" target="_blank">
    <img src="https://www.mayainsights.com/wp-content/uploads/2021/09/mayalogo.svg" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/replace_special_characters.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>replace_special_characters(string, replacement)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Replace most common special characters in a <code>string</code> with <code>replacement</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="23:4"><input checked="checked" id="__tabbed_23_1" name="__tabbed_23" type="radio" /><input id="__tabbed_23_2" name="__tabbed_23" type="radio" /><input id="__tabbed_23_3" name="__tabbed_23" type="radio" /><input id="__tabbed_23_4" name="__tabbed_23" type="radio" /><div class="tabbed-labels"><label for="__tabbed_23_1">EU</label><label for="__tabbed_23_2">US</label><label for="__tabbed_23_3">europe-west1</label><label for="__tabbed_23_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">replace_special_characters</span><span class="p">(</span><span class="s1">&#39;%♥!Hello!*♥#&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">replace_special_characters</span><span class="p">(</span><span class="s1">&#39;%♥!Hello!*♥#&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">replace_special_characters</span><span class="p">(</span><span class="s1">&#39;%♥!Hello!*♥#&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">replace_special_characters</span><span class="p">(</span><span class="s1">&#39;%♥!Hello!*♥#&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| cleaned_string |
+----------------+
| Hello          |
+----------------+
</code>
</pre>

<hr />
<h3 id="sentiment_score">sentiment_score<a class="headerlink" href="#sentiment_score" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/sentiment_score.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>sentiment_score(content)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Compute sentiment score of text</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="24:4"><input checked="checked" id="__tabbed_24_1" name="__tabbed_24" type="radio" /><input id="__tabbed_24_2" name="__tabbed_24" type="radio" /><input id="__tabbed_24_3" name="__tabbed_24" type="radio" /><input id="__tabbed_24_4" name="__tabbed_24" type="radio" /><div class="tabbed-labels"><label for="__tabbed_24_1">EU</label><label for="__tabbed_24_2">US</label><label for="__tabbed_24_3">europe-west1</label><label for="__tabbed_24_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">sentiment_score</span><span class="p">(</span><span class="s1">&#39;BigFunctions Rocks!&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sentiment_score</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">sentiment_score</span><span class="p">(</span><span class="s1">&#39;BigFunctions Rocks!&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sentiment_score</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">sentiment_score</span><span class="p">(</span><span class="s1">&#39;BigFunctions Rocks!&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sentiment_score</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">sentiment_score</span><span class="p">(</span><span class="s1">&#39;BigFunctions Rocks!&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sentiment_score</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------+
| sentiment_score |
+-----------------+
| 0.945           |
+-----------------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="transform-date">📆 Transform date<a class="headerlink" href="#transform-date" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Transform data creatively </strong></p>
<p>Be amazed with your new SQL powers.</p>
</div>
<hr />
<h3 id="generate_dates">generate_dates<a class="headerlink" href="#generate_dates" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/thomas-ellyatt-84a51b218/" title="Author: Thomas Ellyatt" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/110492001?v=4" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/generate_dates.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>generate_dates(start_date, end_date)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Generate a table of dates</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="25:4"><input checked="checked" id="__tabbed_25_1" name="__tabbed_25" type="radio" /><input id="__tabbed_25_2" name="__tabbed_25" type="radio" /><input id="__tabbed_25_3" name="__tabbed_25" type="radio" /><input id="__tabbed_25_4" name="__tabbed_25" type="radio" /><div class="tabbed-labels"><label for="__tabbed_25_1">EU</label><label for="__tabbed_25_2">US</label><label for="__tabbed_25_3">europe-west1</label><label for="__tabbed_25_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">generate_dates</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-05&#39;</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">generate_dates</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-05&#39;</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">generate_dates</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-05&#39;</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">generate_dates</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-05&#39;</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+------------+-------------+-------------------+-----------------+-------------------+-----------------+-------------+------------+---------------+-------------+
|    date    | day_of_week | week_start_monday | week_end_monday | week_start_sunday | week_end_sunday | month_start | month_end  | quarter_start | quarter_end |
+------------+-------------+-------------------+-----------------+-------------------+-----------------+-------------+------------+---------------+-------------+
| 2023-01-01 |     Sun     |    2022-12-26     |    2023-01-01   |     2023-01-01    |    2023-01-07   |  2023-01-01 | 2023-01-31 |   2023-01-01  | 2023-03-31  |
| 2023-01-02 |     Mon     |    2023-01-02     |    2023-01-08   |     2023-01-01    |    2023-01-07   |  2023-01-01 | 2023-01-31 |   2023-01-01  | 2023-03-31  |
| 2023-01-03 |     Tue     |    2023-01-02     |    2023-01-08   |     2023-01-01    |    2023-01-07   |  2023-01-01 | 2023-01-31 |   2023-01-01  | 2023-03-31  |
| 2023-01-04 |     Wed     |    2023-01-02     |    2023-01-08   |     2023-01-01    |    2023-01-07   |  2023-01-01 | 2023-01-31 |   2023-01-01  | 2023-03-31  |
| 2023-01-05 |     Thu     |    2023-01-02     |    2023-01-08   |     2023-01-01    |    2023-01-07   |  2023-01-01 | 2023-01-31 |   2023-01-01  | 2023-03-31  |
+------------+-------------+-------------------+-----------------+-------------------+-----------------+-------------+------------+---------------+-------------+

</code>
</pre>

<hr />
<h3 id="is_public_holiday">is_public_holiday<a class="headerlink" href="#is_public_holiday" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/is_public_holiday.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>is_public_holiday(date, country_code)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return true if <code>date</code> corresponds to a public holiday in <code>country_code</code></p>
<ul>
<li>Always return <code>false</code> if date is not between year 1974 and year 2076.</li>
<li><code>country_code</code> must be among <code>[AO, AR, AW, AU, AT, AZ, BD, BY, BE, BO, BW, BR, BG, BI, CA, CL, CN, CO, HR, CU, CW, CY, CZ, DK, DJ, DO, EG, EE, ET, FI, FR, GE, DE, GR, HN, HK, HU, IS, IN, IE, IL, IT, JM, JP, KZ, KE, KR, LV, LS, LT, LU, MG, MW, MY, MT, MX, MD, MA, MZ, NA, NL, NZ, NI, NG, MK, NO, PY, PE, PL, PT, RO, RU, SA, RS, SG, SK, SI, ZA, ES, SZ, SE, CH, TW, TN, TR, UA, AE, GB, US, UY, UZ, VE, VN, ZM, ZW]</code></li>
<li>Holiday dates come from <a href="https://python-holidays.readthedocs.io/" target="_blank"><code>python-holidays</code></a>.</li>
</ul>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="26:4"><input checked="checked" id="__tabbed_26_1" name="__tabbed_26" type="radio" /><input id="__tabbed_26_2" name="__tabbed_26" type="radio" /><input id="__tabbed_26_3" name="__tabbed_26" type="radio" /><input id="__tabbed_26_4" name="__tabbed_26" type="radio" /><div class="tabbed-labels"><label for="__tabbed_26_1">EU</label><label for="__tabbed_26_2">US</label><label for="__tabbed_26_3">europe-west1</label><label for="__tabbed_26_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">is_public_holiday</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2022-07-14&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;FR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_public_holiday</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">is_public_holiday</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2022-07-14&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;FR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_public_holiday</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">is_public_holiday</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2022-07-14&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;FR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_public_holiday</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">is_public_holiday</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2022-07-14&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;FR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_public_holiday</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------------------+
| is_public_holiday |
+-------------------+
| true              |
+-------------------+
</code>
</pre>

<hr />
<h3 id="parse_date">parse_date<a class="headerlink" href="#parse_date" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/sebo-banerjee/" title="Credits: Sebabrata Banerjee" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4D03AQHFfCabt6UuLw/profile-displayphoto-shrink_200_200/0/1662473522711?e=1672272000&v=beta&t=hlhzWEk4UwQyaZmwNN1u9_F3DeRCLNwYgQrym-OiMC8" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/parse_date.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>parse_date(date_string)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Parse date with automatic format detection
<em>(inspired from <a href="https://www.linkedin.com/feed/update/urn:li:activity:6989555205612670976/">Sebabrata BigQuery tutorial</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="27:4"><input checked="checked" id="__tabbed_27_1" name="__tabbed_27" type="radio" /><input id="__tabbed_27_2" name="__tabbed_27" type="radio" /><input id="__tabbed_27_3" name="__tabbed_27" type="radio" /><input id="__tabbed_27_4" name="__tabbed_27" type="radio" /><div class="tabbed-labels"><label for="__tabbed_27_1">EU</label><label for="__tabbed_27_2">US</label><label for="__tabbed_27_3">europe-west1</label><label for="__tabbed_27_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-01-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-01-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-01-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-01-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date('2021-01-20') |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="28:4"><input checked="checked" id="__tabbed_28_1" name="__tabbed_28" type="radio" /><input id="__tabbed_28_2" name="__tabbed_28" type="radio" /><input id="__tabbed_28_3" name="__tabbed_28" type="radio" /><input id="__tabbed_28_4" name="__tabbed_28" type="radio" /><div class="tabbed-labels"><label for="__tabbed_28_1">EU</label><label for="__tabbed_28_2">US</label><label for="__tabbed_28_3">europe-west1</label><label for="__tabbed_28_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-1-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-1-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-1-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-1-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date('2021-01-20') |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="29:4"><input checked="checked" id="__tabbed_29_1" name="__tabbed_29" type="radio" /><input id="__tabbed_29_2" name="__tabbed_29" type="radio" /><input id="__tabbed_29_3" name="__tabbed_29" type="radio" /><input id="__tabbed_29_4" name="__tabbed_29" type="radio" /><div class="tabbed-labels"><label for="__tabbed_29_1">EU</label><label for="__tabbed_29_2">US</label><label for="__tabbed_29_3">europe-west1</label><label for="__tabbed_29_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/01/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/01/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/01/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/01/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date('2021-01-20') |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="30:4"><input checked="checked" id="__tabbed_30_1" name="__tabbed_30" type="radio" /><input id="__tabbed_30_2" name="__tabbed_30" type="radio" /><input id="__tabbed_30_3" name="__tabbed_30" type="radio" /><input id="__tabbed_30_4" name="__tabbed_30" type="radio" /><div class="tabbed-labels"><label for="__tabbed_30_1">EU</label><label for="__tabbed_30_2">US</label><label for="__tabbed_30_3">europe-west1</label><label for="__tabbed_30_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/1/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/1/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/1/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/1/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date('2021-01-20') |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="31:4"><input checked="checked" id="__tabbed_31_1" name="__tabbed_31" type="radio" /><input id="__tabbed_31_2" name="__tabbed_31" type="radio" /><input id="__tabbed_31_3" name="__tabbed_31" type="radio" /><input id="__tabbed_31_4" name="__tabbed_31" type="radio" /><div class="tabbed-labels"><label for="__tabbed_31_1">EU</label><label for="__tabbed_31_2">US</label><label for="__tabbed_31_3">europe-west1</label><label for="__tabbed_31_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;01/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;01/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;01/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;01/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date('2021-01-20') |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="32:4"><input checked="checked" id="__tabbed_32_1" name="__tabbed_32" type="radio" /><input id="__tabbed_32_2" name="__tabbed_32" type="radio" /><input id="__tabbed_32_3" name="__tabbed_32" type="radio" /><input id="__tabbed_32_4" name="__tabbed_32" type="radio" /><div class="tabbed-labels"><label for="__tabbed_32_1">EU</label><label for="__tabbed_32_2">US</label><label for="__tabbed_32_3">europe-west1</label><label for="__tabbed_32_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;1/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;1/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;1/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;1/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date('2021-01-20') |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="33:4"><input checked="checked" id="__tabbed_33_1" name="__tabbed_33" type="radio" /><input id="__tabbed_33_2" name="__tabbed_33" type="radio" /><input id="__tabbed_33_3" name="__tabbed_33" type="radio" /><input id="__tabbed_33_4" name="__tabbed_33" type="radio" /><div class="tabbed-labels"><label for="__tabbed_33_1">EU</label><label for="__tabbed_33_2">US</label><label for="__tabbed_33_3">europe-west1</label><label for="__tabbed_33_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;Wed Jan 20 21:47:00 2021&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;Wed Jan 20 21:47:00 2021&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;Wed Jan 20 21:47:00 2021&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;Wed Jan 20 21:47:00 2021&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date('2021-01-20') |
+--------------------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="transform-json"><span style="color: var(--md-primary-fg-color);">{...}</span> Transform json<a class="headerlink" href="#transform-json" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>BigQuery json made easy </strong></p>
<p>Be amazed with your new SQL powers.</p>
</div>
<hr />
<h3 id="json_items">json_items<a class="headerlink" href="#json_items" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_items.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_items(json_string)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Extract <code>key_value_items</code> from <code>json_string</code>
which has only flat (no nested) key-values.
Return <code>key_value_items</code> as <code>array&lt; struct&lt;key string, value string&gt; &gt;</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="34:4"><input checked="checked" id="__tabbed_34_1" name="__tabbed_34" type="radio" /><input id="__tabbed_34_2" name="__tabbed_34" type="radio" /><input id="__tabbed_34_3" name="__tabbed_34" type="radio" /><input id="__tabbed_34_4" name="__tabbed_34" type="radio" /><div class="tabbed-labels"><label for="__tabbed_34_1">EU</label><label for="__tabbed_34_2">US</label><label for="__tabbed_34_3">europe-west1</label><label for="__tabbed_34_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_items</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">key_value_items</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_items</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">key_value_items</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_items</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">key_value_items</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_items</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">key_value_items</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------------------------------------------------------------------------------------------+
| key_value_items                                                                                     |
+-----------------------------------------------------------------------------------------------------+
| [
|   struct("created_at" as key, "date" as value),
|   struct("user" as key, "name" as value)
| ]
 |
+-----------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="json_keys">json_keys<a class="headerlink" href="#json_keys" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_keys.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_keys(json_string)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Extract <code>keys</code> from <code>json_string</code>
which has only flat (no nested) key-values.
Return <code>keys</code> as an <code>array&lt;string&gt;</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="35:4"><input checked="checked" id="__tabbed_35_1" name="__tabbed_35" type="radio" /><input id="__tabbed_35_2" name="__tabbed_35" type="radio" /><input id="__tabbed_35_3" name="__tabbed_35" type="radio" /><input id="__tabbed_35_4" name="__tabbed_35" type="radio" /><div class="tabbed-labels"><label for="__tabbed_35_1">EU</label><label for="__tabbed_35_2">US</label><label for="__tabbed_35_3">europe-west1</label><label for="__tabbed_35_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_keys</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">keys</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_keys</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">keys</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_keys</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">keys</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_keys</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">keys</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------------+
| keys                   |
+------------------------+
| ['created_at', 'user'] |
+------------------------+
</code>
</pre>

<hr />
<h3 id="json_merge">json_merge<a class="headerlink" href="#json_merge" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Thomas Lépine" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_merge.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_merge(json_string1, json_string2)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Merge <code>json_string1</code> and <code>json_string2</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="36:4"><input checked="checked" id="__tabbed_36_1" name="__tabbed_36" type="radio" /><input id="__tabbed_36_2" name="__tabbed_36" type="radio" /><input id="__tabbed_36_3" name="__tabbed_36" type="radio" /><input id="__tabbed_36_4" name="__tabbed_36" type="radio" /><div class="tabbed-labels"><label for="__tabbed_36_1">EU</label><label for="__tabbed_36_2">US</label><label for="__tabbed_36_3">europe-west1</label><label for="__tabbed_36_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_merge</span><span class="p">(</span><span class="s1">&#39;{&quot;k1&quot;: &quot;v1&quot;}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;k2&quot;: &quot;v2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">merged_json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_merge</span><span class="p">(</span><span class="s1">&#39;{&quot;k1&quot;: &quot;v1&quot;}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;k2&quot;: &quot;v2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">merged_json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_merge</span><span class="p">(</span><span class="s1">&#39;{&quot;k1&quot;: &quot;v1&quot;}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;k2&quot;: &quot;v2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">merged_json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_merge</span><span class="p">(</span><span class="s1">&#39;{&quot;k1&quot;: &quot;v1&quot;}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;k2&quot;: &quot;v2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">merged_json</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------------------+
| merged_json                |
+----------------------------+
| '{"k1": "v1", "k2": "v2"}' |
+----------------------------+
</code>
</pre>

<hr />
<h3 id="json_query">json_query<a class="headerlink" href="#json_query" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_query.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_query(json_string, query)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Extract data from <code>json_string</code> using advanced json querying
offered by <a href="https://jmespath.org/">JMESPath</a>.</p>
<blockquote>
<p><em>JMESPath Links:</em></p>
<ul>
<li>See <a href="https://jmespath.org/tutorial.html">JMESPath Tutorial</a> for exhaustive <code>query</code> possibilities</li>
<li><a href="https://github.com/jmespath/jmespath.js">GitHub of jmespath.js</a></li>
</ul>
</blockquote>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Basic Query</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="37:4"><input checked="checked" id="__tabbed_37_1" name="__tabbed_37" type="radio" /><input id="__tabbed_37_2" name="__tabbed_37" type="radio" /><input id="__tabbed_37_3" name="__tabbed_37" type="radio" /><input id="__tabbed_37_4" name="__tabbed_37" type="radio" /><div class="tabbed-labels"><label for="__tabbed_37_1">EU</label><label for="__tabbed_37_2">US</label><label for="__tabbed_37_3">europe-west1</label><label for="__tabbed_37_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------------------------+
| result                           |
+----------------------------------+
| [{"first": "a"}, {"first": "c"}] |
+----------------------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Getting array sub-items</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="38:4"><input checked="checked" id="__tabbed_38_1" name="__tabbed_38" type="radio" /><input id="__tabbed_38_2" name="__tabbed_38" type="radio" /><input id="__tabbed_38_3" name="__tabbed_38" type="radio" /><input id="__tabbed_38_4" name="__tabbed_38" type="radio" /><div class="tabbed-labels"><label for="__tabbed_38_1">EU</label><label for="__tabbed_38_2">US</label><label for="__tabbed_38_3">europe-west1</label><label for="__tabbed_38_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------+
| result     |
+------------+
| ['a', 'c'] |
+------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. Slicing</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="39:4"><input checked="checked" id="__tabbed_39_1" name="__tabbed_39" type="radio" /><input id="__tabbed_39_2" name="__tabbed_39" type="radio" /><input id="__tabbed_39_3" name="__tabbed_39" type="radio" /><input id="__tabbed_39_4" name="__tabbed_39" type="radio" /><div class="tabbed-labels"><label for="__tabbed_39_1">EU</label><label for="__tabbed_39_2">US</label><label for="__tabbed_39_3">europe-west1</label><label for="__tabbed_39_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[:1].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[:1].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[:1].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[:1].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| result |
+--------+
| ['a']  |
+--------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">4. Projecting</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="40:4"><input checked="checked" id="__tabbed_40_1" name="__tabbed_40" type="radio" /><input id="__tabbed_40_2" name="__tabbed_40" type="radio" /><input id="__tabbed_40_3" name="__tabbed_40" type="radio" /><input id="__tabbed_40_4" name="__tabbed_40" type="radio" /><div class="tabbed-labels"><label for="__tabbed_40_1">EU</label><label for="__tabbed_40_2">US</label><label for="__tabbed_40_3">europe-west1</label><label for="__tabbed_40_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].{name: first}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].{name: first}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].{name: first}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].{name: first}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------------------+
| result                         |
+--------------------------------+
| [{"name": "a"}, {"name": "c"}] |
+--------------------------------+
</code>
</pre>

<hr />
<h3 id="json_schema">json_schema<a class="headerlink" href="#json_schema" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_schema.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_schema(json_string)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the schema of a json string as <code>[{path, type}]</code>
with <code>path</code> the path of the nested field
and <code>type</code> among (<code>string</code>, <code>numeric</code>, <code>bool</code>, <code>date</code>, <code>timestamp</code>)</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="41:4"><input checked="checked" id="__tabbed_41_1" name="__tabbed_41" type="radio" /><input id="__tabbed_41_2" name="__tabbed_41" type="radio" /><input id="__tabbed_41_3" name="__tabbed_41" type="radio" /><input id="__tabbed_41_4" name="__tabbed_41" type="radio" /><div class="tabbed-labels"><label for="__tabbed_41_1">EU</label><label for="__tabbed_41_2">US</label><label for="__tabbed_41_3">europe-west1</label><label for="__tabbed_41_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_schema</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: {&quot;name&quot;: &quot;James&quot;, &quot;friends&quot;: [&quot;Jack&quot;, &quot;Peter&quot;]}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">schema</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_schema</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: {&quot;name&quot;: &quot;James&quot;, &quot;friends&quot;: [&quot;Jack&quot;, &quot;Peter&quot;]}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">schema</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_schema</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: {&quot;name&quot;: &quot;James&quot;, &quot;friends&quot;: [&quot;Jack&quot;, &quot;Peter&quot;]}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">schema</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_schema</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: {&quot;name&quot;: &quot;James&quot;, &quot;friends&quot;: [&quot;Jack&quot;, &quot;Peter&quot;]}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">schema</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| schema                                                                                                                                                          |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [
|   struct("created_at" as path, "date" as type),
|   struct("user.name" as path, "string" as type),
|   struct("user.friends" as path, "array" as type)
| ]
 |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="json_values">json_values<a class="headerlink" href="#json_values" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_values.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_values(json_string)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Extract <code>values</code> from <code>json_string</code>
which has only flat (no nested) key-values.
Return <code>values</code> as an <code>array&lt;string&gt;</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="42:4"><input checked="checked" id="__tabbed_42_1" name="__tabbed_42" type="radio" /><input id="__tabbed_42_2" name="__tabbed_42" type="radio" /><input id="__tabbed_42_3" name="__tabbed_42" type="radio" /><input id="__tabbed_42_4" name="__tabbed_42" type="radio" /><div class="tabbed-labels"><label for="__tabbed_42_1">EU</label><label for="__tabbed_42_2">US</label><label for="__tabbed_42_3">europe-west1</label><label for="__tabbed_42_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_values</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_values</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_values</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_values</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">values</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------------+
| values                   |
+--------------------------+
| ['2022-01-01', 'sidali'] |
+--------------------------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="transform-array"><span style="color: var(--md-primary-fg-color);">[...]</span> Transform array<a class="headerlink" href="#transform-array" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>BigQuery arrays made easy </strong></p>
<p>Be amazed with your new SQL powers.</p>
</div>
<hr />
<h3 id="are_arrays_equal">are_arrays_equal<a class="headerlink" href="#are_arrays_equal" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/are_arrays_equal.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>are_arrays_equal(array1, array2)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return true if <code>array1</code> = <code>array2</code>
and false otherwise</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="43:4"><input checked="checked" id="__tabbed_43_1" name="__tabbed_43" type="radio" /><input id="__tabbed_43_2" name="__tabbed_43" type="radio" /><input id="__tabbed_43_3" name="__tabbed_43" type="radio" /><input id="__tabbed_43_4" name="__tabbed_43" type="radio" /><div class="tabbed-labels"><label for="__tabbed_43_1">EU</label><label for="__tabbed_43_2">US</label><label for="__tabbed_43_3">europe-west1</label><label for="__tabbed_43_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| are_arrays_equal |
+------------------+
| true             |
+------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="44:4"><input checked="checked" id="__tabbed_44_1" name="__tabbed_44" type="radio" /><input id="__tabbed_44_2" name="__tabbed_44" type="radio" /><input id="__tabbed_44_3" name="__tabbed_44" type="radio" /><input id="__tabbed_44_4" name="__tabbed_44" type="radio" /><div class="tabbed-labels"><label for="__tabbed_44_1">EU</label><label for="__tabbed_44_2">US</label><label for="__tabbed_44_3">europe-west1</label><label for="__tabbed_44_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| are_arrays_equal |
+------------------+
| false            |
+------------------+
</code>
</pre>

<hr />
<h3 id="distinct_values">distinct_values<a class="headerlink" href="#distinct_values" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/distinct_values.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>distinct_values(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return distinct values</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="45:4"><input checked="checked" id="__tabbed_45_1" name="__tabbed_45" type="radio" /><input id="__tabbed_45_2" name="__tabbed_45" type="radio" /><input id="__tabbed_45_3" name="__tabbed_45" type="radio" /><input id="__tabbed_45_4" name="__tabbed_45" type="radio" /><div class="tabbed-labels"><label for="__tabbed_45_1">EU</label><label for="__tabbed_45_2">US</label><label for="__tabbed_45_3">europe-west1</label><label for="__tabbed_45_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">distinct_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distinct_values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">distinct_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distinct_values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">distinct_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distinct_values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">distinct_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distinct_values</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------+
| distinct_values |
+-----------------+
| [1, 4, 3]       |
+-----------------+
</code>
</pre>

<hr />
<h3 id="find_value">find_value<a class="headerlink" href="#find_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Thomas Lépine" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/find_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>find_value(arr, value)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the first <code>offset</code> (zero-based index) of <code>value</code> in array <code>arr</code>
(or <code>null</code> if <code>value</code> is not in <code>arr</code>).</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. When <code>value</code> is in array</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="46:4"><input checked="checked" id="__tabbed_46_1" name="__tabbed_46" type="radio" /><input id="__tabbed_46_2" name="__tabbed_46" type="radio" /><input id="__tabbed_46_3" name="__tabbed_46" type="radio" /><input id="__tabbed_46_4" name="__tabbed_46" type="radio" /><div class="tabbed-labels"><label for="__tabbed_46_1">EU</label><label for="__tabbed_46_2">US</label><label for="__tabbed_46_3">europe-west1</label><label for="__tabbed_46_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| offset |
+--------+
| 1      |
+--------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. When <code>value</code> is not in array</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="47:4"><input checked="checked" id="__tabbed_47_1" name="__tabbed_47" type="radio" /><input id="__tabbed_47_2" name="__tabbed_47" type="radio" /><input id="__tabbed_47_3" name="__tabbed_47" type="radio" /><input id="__tabbed_47_4" name="__tabbed_47" type="radio" /><div class="tabbed-labels"><label for="__tabbed_47_1">EU</label><label for="__tabbed_47_2">US</label><label for="__tabbed_47_3">europe-west1</label><label for="__tabbed_47_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| offset |
+--------+
| null   |
+--------+
</code>
</pre>

<hr />
<h3 id="get_value">get_value<a class="headerlink" href="#get_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Thomas Lépine" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get_value(key_value_items, search_key)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the first <code>value</code> with a key <code>search_key</code> from <code>key_value_items</code>
(or return <code>null</code> if <code>search_key</code> does not exist in <code>key_value_items</code>).</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="48:4"><input checked="checked" id="__tabbed_48_1" name="__tabbed_48" type="radio" /><input id="__tabbed_48_2" name="__tabbed_48" type="radio" /><input id="__tabbed_48_3" name="__tabbed_48" type="radio" /><input id="__tabbed_48_4" name="__tabbed_48" type="radio" /><div class="tabbed-labels"><label for="__tabbed_48_1">EU</label><label for="__tabbed_48_2">US</label><label for="__tabbed_48_3">europe-west1</label><label for="__tabbed_48_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 8     |
+-------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="49:4"><input checked="checked" id="__tabbed_49_1" name="__tabbed_49" type="radio" /><input id="__tabbed_49_2" name="__tabbed_49" type="radio" /><input id="__tabbed_49_3" name="__tabbed_49" type="radio" /><input id="__tabbed_49_4" name="__tabbed_49" type="radio" /><div class="tabbed-labels"><label for="__tabbed_49_1">EU</label><label for="__tabbed_49_2">US</label><label for="__tabbed_49_3">europe-west1</label><label for="__tabbed_49_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| null  |
+-------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. When there are multiple occurences of <code>search_key</code>, return the first found <code>value</code></span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="50:4"><input checked="checked" id="__tabbed_50_1" name="__tabbed_50" type="radio" /><input id="__tabbed_50_2" name="__tabbed_50" type="radio" /><input id="__tabbed_50_3" name="__tabbed_50" type="radio" /><input id="__tabbed_50_4" name="__tabbed_50" type="radio" /><div class="tabbed-labels"><label for="__tabbed_50_1">EU</label><label for="__tabbed_50_2">US</label><label for="__tabbed_50_3">europe-west1</label><label for="__tabbed_50_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 8     |
+-------+
</code>
</pre>

<hr />
<h3 id="last_value">last_value<a class="headerlink" href="#last_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/taylorabrownlow/" title="Credits: Taylor Brownlow" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQFCRlj44wnbhA/profile-displayphoto-shrink_200_200/0/1579795128165?e=1672272000&v=beta&t=LxL7tn53S_dQU0jMAeT3lHiAP4anA8GSiYD71u63pMs" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/last_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>last_value(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return last value of array
<em>(inspired from <a href="https://github.com/count/sql-snippets/blob/main/bigquery/get-last-array-element.md">sql-snippets repo</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="51:4"><input checked="checked" id="__tabbed_51_1" name="__tabbed_51" type="radio" /><input id="__tabbed_51_2" name="__tabbed_51" type="radio" /><input id="__tabbed_51_3" name="__tabbed_51" type="radio" /><input id="__tabbed_51_4" name="__tabbed_51" type="radio" /><div class="tabbed-labels"><label for="__tabbed_51_1">EU</label><label for="__tabbed_51_2">US</label><label for="__tabbed_51_3">europe-west1</label><label for="__tabbed_51_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">last_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">last_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">last_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">last_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 3     |
+-------+
</code>
</pre>

<hr />
<h3 id="max_value">max_value<a class="headerlink" href="#max_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/taylorabrownlow/" title="Credits: Taylor Brownlow" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQFCRlj44wnbhA/profile-displayphoto-shrink_200_200/0/1579795128165?e=1672272000&v=beta&t=LxL7tn53S_dQU0jMAeT3lHiAP4anA8GSiYD71u63pMs" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/max_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>max_value(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return max value of array
<em>(inspired from <a href="https://github.com/count/sql-snippets/blob/main/bigquery/least-array.md">sql-snippets repo</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="52:4"><input checked="checked" id="__tabbed_52_1" name="__tabbed_52" type="radio" /><input id="__tabbed_52_2" name="__tabbed_52" type="radio" /><input id="__tabbed_52_3" name="__tabbed_52" type="radio" /><input id="__tabbed_52_4" name="__tabbed_52" type="radio" /><div class="tabbed-labels"><label for="__tabbed_52_1">EU</label><label for="__tabbed_52_2">US</label><label for="__tabbed_52_3">europe-west1</label><label for="__tabbed_52_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">max_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">max_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">max_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">max_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 4     |
+-------+
</code>
</pre>

<hr />
<h3 id="median_value">median_value<a class="headerlink" href="#median_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/taylorabrownlow/" title="Credits: Taylor Brownlow" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQFCRlj44wnbhA/profile-displayphoto-shrink_200_200/0/1579795128165?e=1672272000&v=beta&t=LxL7tn53S_dQU0jMAeT3lHiAP4anA8GSiYD71u63pMs" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/median_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>median_value(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return median value of array
<em>(inspired from <a href="https://github.com/count/sql-snippets/blob/main/bigquery/median.md">sql-snippets repo</a>)</em></p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. When array length is odd</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="53:4"><input checked="checked" id="__tabbed_53_1" name="__tabbed_53" type="radio" /><input id="__tabbed_53_2" name="__tabbed_53" type="radio" /><input id="__tabbed_53_3" name="__tabbed_53" type="radio" /><input id="__tabbed_53_4" name="__tabbed_53" type="radio" /><div class="tabbed-labels"><label for="__tabbed_53_1">EU</label><label for="__tabbed_53_2">US</label><label for="__tabbed_53_3">europe-west1</label><label for="__tabbed_53_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 3     |
+-------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. When array length is even</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="54:4"><input checked="checked" id="__tabbed_54_1" name="__tabbed_54" type="radio" /><input id="__tabbed_54_2" name="__tabbed_54" type="radio" /><input id="__tabbed_54_3" name="__tabbed_54" type="radio" /><input id="__tabbed_54_4" name="__tabbed_54" type="radio" /><div class="tabbed-labels"><label for="__tabbed_54_1">EU</label><label for="__tabbed_54_2">US</label><label for="__tabbed_54_3">europe-west1</label><label for="__tabbed_54_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 2.5   |
+-------+
</code>
</pre>

<hr />
<h3 id="min_value">min_value<a class="headerlink" href="#min_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/taylorabrownlow/" title="Credits: Taylor Brownlow" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQFCRlj44wnbhA/profile-displayphoto-shrink_200_200/0/1579795128165?e=1672272000&v=beta&t=LxL7tn53S_dQU0jMAeT3lHiAP4anA8GSiYD71u63pMs" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/min_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>min_value(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return min value of array
<em>(inspired from <a href="https://github.com/count/sql-snippets/blob/main/bigquery/least-array.md">sql-snippets repo</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="55:4"><input checked="checked" id="__tabbed_55_1" name="__tabbed_55" type="radio" /><input id="__tabbed_55_2" name="__tabbed_55" type="radio" /><input id="__tabbed_55_3" name="__tabbed_55" type="radio" /><input id="__tabbed_55_4" name="__tabbed_55" type="radio" /><div class="tabbed-labels"><label for="__tabbed_55_1">EU</label><label for="__tabbed_55_2">US</label><label for="__tabbed_55_3">europe-west1</label><label for="__tabbed_55_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">min_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">min_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">min_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">min_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 1     |
+-------+
</code>
</pre>

<hr />
<h3 id="remove_value">remove_value<a class="headerlink" href="#remove_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/remove_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>remove_value(arr, value)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return an array with all values except <code>value</code>.</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="56:4"><input checked="checked" id="__tabbed_56_1" name="__tabbed_56" type="radio" /><input id="__tabbed_56_2" name="__tabbed_56" type="radio" /><input id="__tabbed_56_3" name="__tabbed_56" type="radio" /><input id="__tabbed_56_4" name="__tabbed_56" type="radio" /><div class="tabbed-labels"><label for="__tabbed_56_1">EU</label><label for="__tabbed_56_2">US</label><label for="__tabbed_56_3">europe-west1</label><label for="__tabbed_56_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">remove_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">arr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">remove_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">arr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">remove_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">arr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">remove_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">arr</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| arr       |
+-----------+
| [1, 3, 8] |
+-----------+
</code>
</pre>

<hr />
<h3 id="sort_values">sort_values<a class="headerlink" href="#sort_values" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/sort_values.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>sort_values(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return sorted array (ascending)</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="57:4"><input checked="checked" id="__tabbed_57_1" name="__tabbed_57" type="radio" /><input id="__tabbed_57_2" name="__tabbed_57" type="radio" /><input id="__tabbed_57_3" name="__tabbed_57" type="radio" /><input id="__tabbed_57_4" name="__tabbed_57" type="radio" /><div class="tabbed-labels"><label for="__tabbed_57_1">EU</label><label for="__tabbed_57_2">US</label><label for="__tabbed_57_3">europe-west1</label><label for="__tabbed_57_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">sort_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">sort_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">sort_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">sort_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------+
| sorted_array |
+--------------+
| [1, 3, 4]    |
+--------------+
</code>
</pre>

<hr />
<h3 id="sort_values_desc">sort_values_desc<a class="headerlink" href="#sort_values_desc" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/sort_values_desc.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>sort_values_desc(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return sorted array (descending)</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="58:4"><input checked="checked" id="__tabbed_58_1" name="__tabbed_58" type="radio" /><input id="__tabbed_58_2" name="__tabbed_58" type="radio" /><input id="__tabbed_58_3" name="__tabbed_58" type="radio" /><input id="__tabbed_58_4" name="__tabbed_58" type="radio" /><div class="tabbed-labels"><label for="__tabbed_58_1">EU</label><label for="__tabbed_58_2">US</label><label for="__tabbed_58_3">europe-west1</label><label for="__tabbed_58_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">sort_values_desc</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">sort_values_desc</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">sort_values_desc</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">sort_values_desc</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------+
| sorted_array |
+--------------+
| [4, 3, 1]    |
+--------------+
</code>
</pre>

<hr />
<h3 id="sum_values">sum_values<a class="headerlink" href="#sum_values" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/benjamin-tabet" title="Author: Benjamin Tabet" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4D03AQGWnyJdEmZeZw/profile-displayphoto-shrink_400_400/0/1667928305931?e=1673481600&v=beta&t=sxH1fFMPjj9ASbqfQ6TkIpWKk_PQ0hUAhOtuAs2zTu0" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/sum_values.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>sum_values(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the sum of array values</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="59:4"><input checked="checked" id="__tabbed_59_1" name="__tabbed_59" type="radio" /><input id="__tabbed_59_2" name="__tabbed_59" type="radio" /><input id="__tabbed_59_3" name="__tabbed_59" type="radio" /><input id="__tabbed_59_4" name="__tabbed_59" type="radio" /><div class="tabbed-labels"><label for="__tabbed_59_1">EU</label><label for="__tabbed_59_2">US</label><label for="__tabbed_59_3">europe-west1</label><label for="__tabbed_59_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">sum_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">sum_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">sum_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">sum_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 8     |
+-------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="graph">🌐 Graph<a class="headerlink" href="#graph" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Graph Algorithms </strong></p>
<p>No need for neo4j nor spark graphframes --&gt; go BigQuery boosted by BigFunctions!</p>
</div>
<hr />
<h3 id="connected_components">connected_components<a class="headerlink" href="#connected_components" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/furcy-pin-3790b028/" title="Author: Furcy Pin" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4D03AQFK5YDJyod_3A/profile-displayphoto-shrink_200_200/0/1590431668428?e=1677110400&v=beta&t=_DHEt_NWaU5CIIC2UyYdK3gHj7KKUjzH9DTVhZcEmOY" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/connected_components.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>connected_components(fully_qualified_table)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Compute the connected components of a non-directed graph.</p>
<p>Given a table with two columns of the same type STRING or INTEGER representing the edges of a graph,
this computes a new temporary table called <code>bigfunction_result</code> containing two columns of the same type
named <code>node_id</code> and <code>connected_component_id</code>.</p>
<p>This is an implementation of the Alternating Algorithm (large-star, small-star) described in the 2014 paper
"Connected Components in MapReduce and Beyond" written by {rkiveris, silviol, mirrokni, rvibhor, sergeiv} @google.com</p>
<p>PERFORMANCE AND COST CONSIDERATIONS</p>
<ul>
<li>This algorithm has been proved to converge in O(log(n)²) and is conjectured to converge in O(log(n)), where n
is the number of nodes in the graph. It was the most performant known distributed connected component algorithm
last time I checked (in 2017).</li>
<li>This implementation persists temporary results at each iteration loop: for the BigQuery pricing, you should
be expecting it to cost the equivalent of 15 to 30 scans on your input table. Since the input table has only
two columns, this should be reasonable, and we recommend using INTEGER columns rather than STRING when possible.</li>
<li>If your graph contains nodes with a very high number of neighbors, the algorithm may crash. It is recommended
to apply a pre-filtering on your nodes and remove nodes with a pathologically high cardinality.
You should also monitor actively the number of nodes filtered this way and their cardinality, as this could help
you detect a data quality deterioration in your input graph.
If the input graph contains duplicate edges, they will be automatically removed by the algorithm.</li>
</ul>
<p>ISOLATED NODES: If you want to have isolated nodes (nodes that have no neighbors)
in the resulting graph, there is two possible ways to achieve this:</p>
<ul>
<li>Add self-loops edges to all your nodes in your input graph (it also works if you add edges between all the graph
   nodes and a fictitious node with id NULL)</li>
<li>Only add edges between distinct nodes to your input, and perform a join between your input graph and the
   algorithm's output to find all the nodes that have disappeared. These will be the isolated nodes.
   This second method requires a little more work but it should also be cheaper.</li>
</ul>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">Identify the two connected components of a graph which has 6 nodes and is represented by the edges below:
<div class="highlight"><pre><span></span><code>+---------+-----+
| node1 | node2 |
+-------+-------+
|   1   |   2   |
|   2   |   3   |
|   3   |   4   |
|   5   |   6   |
+-------+-------+
</code></pre></div>
</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="60:4"><input checked="checked" id="__tabbed_60_1" name="__tabbed_60" type="radio" /><input id="__tabbed_60_2" name="__tabbed_60" type="radio" /><input id="__tabbed_60_3" name="__tabbed_60" type="radio" /><input id="__tabbed_60_4" name="__tabbed_60" type="radio" /><div class="tabbed-labels"><label for="__tabbed_60_1">EU</label><label for="__tabbed_60_2">US</label><label for="__tabbed_60_3">europe-west1</label><label for="__tabbed_60_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">connected_components</span><span class="p">(</span><span class="s1">&#39;bigfunctions.eu.sample_graph&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">connected_components</span><span class="p">(</span><span class="s1">&#39;bigfunctions.us.sample_graph&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">connected_components</span><span class="p">(</span><span class="s1">&#39;bigfunctions.europe_west1.sample_graph&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">connected_components</span><span class="p">(</span><span class="s1">&#39;bigfunctions.your_region2.sample_graph&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+---------+------------------------+
| node_id | connected_component_id |
+---------+------------------------+
|    1    |           1            |
|    2    |           1            |
|    3    |           1            |
|    4    |           1            |
|    5    |           5            |
|    6    |           5            |
+---------+------------------------+

</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="notify">💬 Notify<a class="headerlink" href="#notify" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Send infos to your customers, alert the operations teams, send reportings to business </strong></p>
<p>Spread the word to the world!</p>
</div>
<hr />
<h3 id="notify_gmail">notify_gmail<a class="headerlink" href="#notify_gmail" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/notify_gmail.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>notify_gmail(recipients, subject, body, attachment_filename, attachment_content)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Send email via gmail</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Send email without file attached</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="61:4"><input checked="checked" id="__tabbed_61_1" name="__tabbed_61" type="radio" /><input id="__tabbed_61_2" name="__tabbed_61" type="radio" /><input id="__tabbed_61_3" name="__tabbed_61" type="radio" /><input id="__tabbed_61_4" name="__tabbed_61" type="radio" /><div class="tabbed-labels"><label for="__tabbed_61_1">EU</label><label for="__tabbed_61_2">US</label><label for="__tabbed_61_3">europe-west1</label><label for="__tabbed_61_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------+
| success |
+---------+
| true    |
+---------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Send email with plain text file attached</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="62:4"><input checked="checked" id="__tabbed_62_1" name="__tabbed_62" type="radio" /><input id="__tabbed_62_2" name="__tabbed_62" type="radio" /><input id="__tabbed_62_3" name="__tabbed_62" type="radio" /><input id="__tabbed_62_4" name="__tabbed_62" type="radio" /><div class="tabbed-labels"><label for="__tabbed_62_1">EU</label><label for="__tabbed_62_2">US</label><label for="__tabbed_62_3">europe-west1</label><label for="__tabbed_62_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.csv&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;col1,col2\nval1,val2\nval3,val4&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.csv&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;col1,col2\nval1,val2\nval3,val4&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.csv&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;col1,col2\nval1,val2\nval3,val4&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.csv&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;col1,col2\nval1,val2\nval3,val4&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------+
| success |
+---------+
| true    |
+---------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. Send email with excel file attached</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="63:4"><input checked="checked" id="__tabbed_63_1" name="__tabbed_63" type="radio" /><input id="__tabbed_63_2" name="__tabbed_63" type="radio" /><input id="__tabbed_63_3" name="__tabbed_63" type="radio" /><input id="__tabbed_63_4" name="__tabbed_63" type="radio" /><div class="tabbed-labels"><label for="__tabbed_63_1">EU</label><label for="__tabbed_63_2">US</label><label for="__tabbed_63_3">europe-west1</label><label for="__tabbed_63_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">dump_to_excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;val1&quot;, &quot;col2&quot;: &quot;val2&quot;}, {&quot;col1&quot;: &quot;val3&quot;, &quot;col2&quot;: &quot;val4&quot;}]&#39;</span><span class="p">)))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">dump_to_excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;val1&quot;, &quot;col2&quot;: &quot;val2&quot;}, {&quot;col1&quot;: &quot;val3&quot;, &quot;col2&quot;: &quot;val4&quot;}]&#39;</span><span class="p">)))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">dump_to_excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;val1&quot;, &quot;col2&quot;: &quot;val2&quot;}, {&quot;col1&quot;: &quot;val3&quot;, &quot;col2&quot;: &quot;val4&quot;}]&#39;</span><span class="p">)))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">notify_gmail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">dump_to_excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;val1&quot;, &quot;col2&quot;: &quot;val2&quot;}, {&quot;col1&quot;: &quot;val3&quot;, &quot;col2&quot;: &quot;val4&quot;}]&#39;</span><span class="p">)))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------+
| success |
+---------+
| true    |
+---------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="export">🚀 Export<a class="headerlink" href="#export" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Get the data out to the outside world </strong></p>
<p>Make BigQuery as the golden source of all your SAAS and for all your usages</p>
</div>
<hr />
<h3 id="export_to_gmail">export_to_gmail<a class="headerlink" href="#export_to_gmail" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/export_to_gmail.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>export_to_gmail(table_or_view_or_query, recipients, email_subject, email_body)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Send email (via gmail) with data attached as excel file</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="64:1"><input checked="checked" id="__tabbed_64_1" name="__tabbed_64" type="radio" /><div class="tabbed-labels"><label for="__tabbed_64_1">EU</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">export_to_gmail</span><span class="p">(</span><span class="s1">&#39;bigfunctions.samples.natality&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Finance Figures for Today&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, you fill find the figures in the attached excel file. Enjoy 🔥&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="utils">🔨 Utils<a class="headerlink" href="#utils" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Utils BigFunctions </strong></p>
</div>
<hr />
<h3 id="chart">chart<a class="headerlink" href="#chart" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/chart.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>chart(data, chart_type, ylabel)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return html with a chartjs chart</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="65:4"><input checked="checked" id="__tabbed_65_1" name="__tabbed_65" type="radio" /><input id="__tabbed_65_2" name="__tabbed_65" type="radio" /><input id="__tabbed_65_3" name="__tabbed_65" type="radio" /><input id="__tabbed_65_4" name="__tabbed_65" type="radio" /><div class="tabbed-labels"><label for="__tabbed_65_1">EU</label><label for="__tabbed_65_2">US</label><label for="__tabbed_65_3">europe-west1</label><label for="__tabbed_65_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">chart</span><span class="p">([(</span><span class="s1">&#39;2022-08-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">20000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">40000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-04&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">80000</span><span class="p">.)],</span><span class="w"> </span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sales&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">html</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">chart</span><span class="p">([(</span><span class="s1">&#39;2022-08-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">20000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">40000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-04&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">80000</span><span class="p">.)],</span><span class="w"> </span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sales&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">html</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">chart</span><span class="p">([(</span><span class="s1">&#39;2022-08-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">20000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">40000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-04&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">80000</span><span class="p">.)],</span><span class="w"> </span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sales&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">html</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">chart</span><span class="p">([(</span><span class="s1">&#39;2022-08-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">20000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">40000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-04&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">80000</span><span class="p">.)],</span><span class="w"> </span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sales&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">html</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/chart.png"><img alt="screenshot" src="../assets/images/chart.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<h3 id="dump_to_excel">dump_to_excel<a class="headerlink" href="#dump_to_excel" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/dump_to_excel.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>dump_to_excel(data)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Dump data to excel file returned as base64</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="66:4"><input checked="checked" id="__tabbed_66_1" name="__tabbed_66" type="radio" /><input id="__tabbed_66_2" name="__tabbed_66" type="radio" /><input id="__tabbed_66_3" name="__tabbed_66" type="radio" /><input id="__tabbed_66_4" name="__tabbed_66" type="radio" /><div class="tabbed-labels"><label for="__tabbed_66_1">EU</label><label for="__tabbed_66_2">US</label><label for="__tabbed_66_3">europe-west1</label><label for="__tabbed_66_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">dump_to_excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">excel_base64</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">dump_to_excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">excel_base64</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">dump_to_excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">excel_base64</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">dump_to_excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">excel_base64</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| excel_base64     |
+------------------+
| UEsDBBQAAAAAA... |
+------------------+
</code>
</pre>

<hr />
<h3 id="get">get<a class="headerlink" href="#get" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get(url, headers)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Request <code>url</code></p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Without headers</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="67:4"><input checked="checked" id="__tabbed_67_1" name="__tabbed_67" type="radio" /><input id="__tabbed_67_2" name="__tabbed_67" type="radio" /><input id="__tabbed_67_3" name="__tabbed_67" type="radio" /><input id="__tabbed_67_4" name="__tabbed_67" type="radio" /><div class="tabbed-labels"><label for="__tabbed_67_1">EU</label><label for="__tabbed_67_2">US</label><label for="__tabbed_67_3">europe-west1</label><label for="__tabbed_67_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://unytics.io/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://unytics.io/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://unytics.io/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://unytics.io/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------------+
| response               |
+------------------------+
| &lt;html>...&lt;/html> |
+------------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. With Content-Type = application/json headers</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="68:4"><input checked="checked" id="__tabbed_68_1" name="__tabbed_68" type="radio" /><input id="__tabbed_68_2" name="__tabbed_68" type="radio" /><input id="__tabbed_68_3" name="__tabbed_68" type="radio" /><input id="__tabbed_68_4" name="__tabbed_68" type="radio" /><div class="tabbed-labels"><label for="__tabbed_68_1">EU</label><label for="__tabbed_68_2">US</label><label for="__tabbed_68_3">europe-west1</label><label for="__tabbed_68_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/repos/unytics/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;Content-Type&quot;: &quot;application/json&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/repos/unytics/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;Content-Type&quot;: &quot;application/json&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/repos/unytics/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;Content-Type&quot;: &quot;application/json&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/repos/unytics/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;Content-Type&quot;: &quot;application/json&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------+
| response |
+----------+
| {...}    |
+----------+
</code>
</pre>

<hr />
<h3 id="get_json_column_schema">get_json_column_schema<a class="headerlink" href="#get_json_column_schema" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get_json_column_schema.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get_json_column_schema(table_or_view_or_query, json_column)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the schema of <code>json_column</code> of <code>table_or_view_or_query</code> as <code>[{path, type}]</code>
with <code>path</code> the path of the nested field
and <code>type</code> among (<code>string</code>, <code>numeric</code>, <code>bool</code>, <code>date</code>, <code>timestamp</code>)</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="69:4"><input checked="checked" id="__tabbed_69_1" name="__tabbed_69" type="radio" /><input id="__tabbed_69_2" name="__tabbed_69" type="radio" /><input id="__tabbed_69_3" name="__tabbed_69" type="radio" /><input id="__tabbed_69_4" name="__tabbed_69" type="radio" /><div class="tabbed-labels"><label for="__tabbed_69_1">EU</label><label for="__tabbed_69_2">US</label><label for="__tabbed_69_3">europe-west1</label><label for="__tabbed_69_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_json_column_schema</span><span class="p">(</span><span class="s1">&#39;bigfunctions.eu.sample_json&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;data&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_json_column_schema</span><span class="p">(</span><span class="s1">&#39;bigfunctions.us.sample_json&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;data&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_json_column_schema</span><span class="p">(</span><span class="s1">&#39;bigfunctions.europe_west1.sample_json&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;data&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_json_column_schema</span><span class="p">(</span><span class="s1">&#39;bigfunctions.your_region2.sample_json&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;data&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+----------------+-------------+
| schema.path    | schema.type |
+----------------+-------------+
| "created_at"   | "date"      |
| "user.name"    | "string"    |
| "user.friends" | "array"     |
+----------------+-------------+

</code>
</pre>

<hr />
<h3 id="get_latest_partition_timestamp">get_latest_partition_timestamp<a class="headerlink" href="#get_latest_partition_timestamp" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: jihene cherif" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C560BAQHFcSF8X1MqrQ/company-logo_200_200/0/1636992707472?e=1678320000&v=beta&t=BJmNI_Nd0GuC9Mn3wKc1xGUEpZsCy-CsrTZh47cPcOQ" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get_latest_partition_timestamp.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get_latest_partition_timestamp(fully_qualified_table)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the maximum of the partition column of <code>fully_qualified_table</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="70:4"><input checked="checked" id="__tabbed_70_1" name="__tabbed_70" type="radio" /><input id="__tabbed_70_2" name="__tabbed_70" type="radio" /><input id="__tabbed_70_3" name="__tabbed_70" type="radio" /><input id="__tabbed_70_4" name="__tabbed_70" type="radio" /><div class="tabbed-labels"><label for="__tabbed_70_1">EU</label><label for="__tabbed_70_2">US</label><label for="__tabbed_70_3">europe-west1</label><label for="__tabbed_70_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_latest_partition_timestamp</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_latest_partition_timestamp</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_latest_partition_timestamp</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_latest_partition_timestamp</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+----------------------------+
| latest_partition_timestamp |
+----------------------------+
|         2023-01-10         |
+----------------------------+

</code>
</pre>

<hr />
<h3 id="get_table_columns">get_table_columns<a class="headerlink" href="#get_table_columns" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/furcy-pin-3790b028/" title="Author: Furcy Pin" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4D03AQFK5YDJyod_3A/profile-displayphoto-shrink_200_200/0/1590431668428?e=1677110400&v=beta&t=_DHEt_NWaU5CIIC2UyYdK3gHj7KKUjzH9DTVhZcEmOY" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get_table_columns.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get_table_columns(fully_qualified_table)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get the column information of the given table from <code>INFORMATION_SCHEMA.COLUMNS</code>
and put them in a temporary table called <code>bigfunction_result</code>.</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">call <code>bigfunctions.eu._get_columns</code>("bigfunctions.samples.natality");
select column_name, data_type from bigfunction_result ;
</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="71:1"><input checked="checked" id="__tabbed_71_1" name="__tabbed_71" type="radio" /><div class="tabbed-labels"><label for="__tabbed_71_1">EU</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_table_columns</span><span class="p">(</span><span class="s1">&#39;bigfunctions.samples.natality&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<hr />



  



                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        

<!-- Application footer -->
<footer class="md-footer">
  <!-- Further information -->
  <div class="md-footer-meta md-typeset" style="background-color: #fff;">
    <div class="md-footer-meta__inner md-grid" style="background-color: #fff;">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        <img
          src="https://unytics.io/bigfunctions/assets/logo_and_name.png"
          alt=""
          draggable="false"
          width="300"
        >
        
          <div class="md-footer-copyright__highlight" style="color: rgb(92, 92, 92);">
            Copyright &copy; 2022 Unytics
          </div>
        
      </div>

      <!-- Social links -->
      <div class="md-social">
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["tabs", "content.tabs.link", "instant", "navigation.tabs", "navigation.tracking", "navigation.indexes", "navigation.hide", "navigation.expand"], "search": "../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6df46069.min.js"></script>
      
    
  </body>
</html>